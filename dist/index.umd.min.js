!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).PageScroll=n()}(this,function(){"use strict";function t(n){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function n(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=[],r=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done)&&(e.push(i.value),!n||e.length!==n);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var e={Linear:function(t,n,e,r){return e*t/r+n},Quad:{easeIn:function(t,n,e,r){return e*(t/=r)*t+n},easeOut:function(t,n,e,r){return-e*(t/=r)*(t-2)+n},easeInOut:function(t,n,e,r){return 1>(t/=r/2)?e/2*t*t+n:-e/2*(--t*(t-2)-1)+n}},Cubic:{easeIn:function(t,n,e,r){return e*(t/=r)*t*t+n},easeOut:function(t,n,e,r){return e*((t=t/r-1)*t*t+1)+n},easeInOut:function(t,n,e,r){return 1>(t/=r/2)?e/2*t*t*t+n:e/2*((t-=2)*t*t+2)+n}},Quart:{easeIn:function(t,n,e,r){return e*(t/=r)*t*t*t+n},easeOut:function(t,n,e,r){return-e*((t=t/r-1)*t*t*t-1)+n},easeInOut:function(t,n,e,r){return 1>(t/=r/2)?e/2*t*t*t*t+n:-e/2*((t-=2)*t*t*t-2)+n}},Quint:{easeIn:function(t,n,e,r){return e*(t/=r)*t*t*t*t+n},easeOut:function(t,n,e,r){return e*((t=t/r-1)*t*t*t*t+1)+n},easeInOut:function(t,n,e,r){return 1>(t/=r/2)?e/2*t*t*t*t*t+n:e/2*((t-=2)*t*t*t*t+2)+n}},Sine:{easeIn:function(t,n,e,r){return-e*Math.cos(t/r*(Math.PI/2))+e+n},easeOut:function(t,n,e,r){return e*Math.sin(t/r*(Math.PI/2))+n},easeInOut:function(t,n,e,r){return-e/2*(Math.cos(Math.PI*t/r)-1)+n}},Expo:{easeIn:function(t,n,e,r){return 0==t?n:e*Math.pow(2,10*(t/r-1))+n},easeOut:function(t,n,e,r){return t==r?n+e:e*(1-Math.pow(2,-10*t/r))+n},easeInOut:function(t,n,e,r){return 0==t?n:t==r?n+e:1>(t/=r/2)?e/2*Math.pow(2,10*(t-1))+n:e/2*(2-Math.pow(2,-10*--t))+n}},Circ:{easeIn:function(t,n,e,r){return-e*(Math.sqrt(1-(t/=r)*t)-1)+n},easeOut:function(t,n,e,r){return e*Math.sqrt(1-(t=t/r-1)*t)+n},easeInOut:function(t,n,e,r){return 1>(t/=r/2)?-e/2*(Math.sqrt(1-t*t)-1)+n:e/2*(Math.sqrt(1-(t-=2)*t)+1)+n}},Elastic:{easeIn:function(t,n,e,r,o,a){var i;return 0==t?n:1==(t/=r)?n+e:(void 0===a&&(a=.3*r),!o||Math.abs(e)>o?(i=a/4,o=e):i=a/(2*Math.PI)*Math.asin(e/o),-o*Math.pow(2,10*(t-=1))*Math.sin(2*Math.PI*(t*r-i)/a)+n)},easeOut:function(t,n,e,r,o,a){var i;return 0==t?n:1==(t/=r)?n+e:(void 0===a&&(a=.3*r),!o||Math.abs(e)>o?(o=e,i=a/4):i=a/(2*Math.PI)*Math.asin(e/o),o*Math.pow(2,-10*t)*Math.sin(2*Math.PI*(t*r-i)/a)+e+n)},easeInOut:function(t,n,e,r,o,a){var i;return 0==t?n:2==(t/=r/2)?n+e:(void 0===a&&(a=r*(.3*1.5)),!o||Math.abs(e)>o?(o=e,i=a/4):i=a/(2*Math.PI)*Math.asin(e/o),1>t?o*Math.pow(2,10*(t-=1))*Math.sin(2*Math.PI*(t*r-i)/a)*-.5+n:o*Math.pow(2,-10*(t-=1))*Math.sin(2*Math.PI*(t*r-i)/a)*.5+e+n)}},Back:{easeIn:function(t,n,e,r,o){return void 0===o&&(o=1.70158),e*(t/=r)*t*((o+1)*t-o)+n},easeOut:function(t,n,e,r,o){return void 0===o&&(o=1.70158),e*((t=t/r-1)*t*((o+1)*t+o)+1)+n},easeInOut:function(t,n,e,r,o){return void 0===o&&(o=1.70158),1>(t/=r/2)?e/2*(t*t*((1+(o*=1.525))*t-o))+n:e/2*((t-=2)*t*((1+(o*=1.525))*t+o)+2)+n}},Bounce:{easeIn:function(t,n,r,o){return r-e.Bounce.easeOut(o-t,0,r,o)+n},easeOut:function(t,n,e,r){return(t/=r)<1/2.75?e*(7.5625*t*t)+n:2/2.75>t?e*(7.5625*(t-=1.5/2.75)*t+.75)+n:2.5/2.75>t?e*(7.5625*(t-=2.25/2.75)*t+.9375)+n:e*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOut:function(t,n,r,o){return o/2>t?.5*e.Bounce.easeIn(2*t,0,r,o)+n:.5*e.Bounce.easeOut(2*t-o,0,r,o)+.5*r+n}}},r=function(t,n,e){return Math.min(Math.max(n,t),e)};return function o(a){var i=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),this.touchInfo={start:{pos:0,timeStamp:0,isScroll:!1},move:{pos:0,timeStamp:0,isScroll:!1}},this.currentClass="",this.currentOffset=0,this.prevOffset=0,this.index=0,this.animateTimer=0,this.duration=.6,this.momentum=1,this.tween="Quad.easeOut",this.onScrollStart=function(t){t.stopPropagation(),t.preventDefault(),i.animateTimer&&cancelAnimationFrame(i.animateTimer),i.touchInfo.start={pos:t.touches[0].pageY,timeStamp:t.timeStamp,isScroll:!0},i.touchInfo.move.isScroll=!1},this.onScrolling=function(t){i.touchInfo.start.isScroll&&(t.stopPropagation(),t.preventDefault(),i.touchInfo.move={pos:t.touches[0].pageY,timeStamp:t.timeStamp,isScroll:!0},i.currentOffset=i.touchInfo.move.pos-i.touchInfo.start.pos+i.prevOffset,i.wrap.style.transform="translate3d(0,".concat(i.currentOffset,"px,0)"))},this.onScrollEnd=function(t){if(i.touchInfo.start.isScroll){t.stopPropagation(),t.preventDefault(),i.touchInfo.start.isScroll=!1,i.prevOffset=i.currentOffset,i.touchInfo.move.isScroll||(i.touchInfo.move.pos=i.touchInfo.start.pos);var n=(i.touchInfo.move.pos-i.touchInfo.start.pos)/(i.touchInfo.move.timeStamp-i.touchInfo.start.timeStamp);i.index=r(Math.abs(n)>i.momentum?n>0?--i.index:++i.index:-Math.round((i.prevOffset=i.currentOffset)/window.innerHeight),0,i.pages.length-1),i.scrollTo()}},this.scrollTo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.index;i.animateTimer&&cancelAnimationFrame(i.animateTimer);var o=Date.now(),a=i.duration,s=i.currentOffset,u=t*-window.innerHeight-i.prevOffset;!function c(){var f,h,l=(Date.now()-o)/1e3,p=(f=n(i.tween.split("."),2),(h=f[1])?e[f[0]][h]:e.Linear)(l,s,u,a);if(i.wrap.style.transform="translate3d(0,".concat(p,"px,0)"),i.prevOffset=i.currentOffset=p,l>=a){cancelAnimationFrame(i.animateTimer);var m=t*-window.innerHeight;return i.prevOffset=i.currentOffset=m,i.wrap.style.transform="translate3d(0,".concat(m,"px,0)"),i.index=r(-Math.round(m/window.innerHeight),0,i.pages.length-1),void i.setCurrent(i.index)}i.animateTimer=requestAnimationFrame(c)}()},this.setCurrent=function(t){i.pages.forEach(function(n,e){e===t?n.classList.add(i.currentClass):n.classList.remove(i.currentClass)})},this.prev=function(){var t=r(--i.index,0,i.pages.length-1);i.scrollTo(t)},this.next=function(){var t=r(++i.index,0,i.pages.length-1);i.scrollTo(t)};var s=a.el,u=a.itemClass,c=a.currentClass;if("object"===t(s))this.wrap=s;else{var f=document.querySelector(s);if(!f)throw Error("el not found");this.wrap=f}this.currentClass=c,this.pages=Array.from(this.wrap.querySelectorAll(".".concat(u))),this.pages.forEach(function(t,n){0===n&&t.classList.add(c),t.style.height="".concat(window.innerHeight,"px")}),this.wrap.addEventListener("touchstart",this.onScrollStart),this.wrap.addEventListener("touchmove",this.onScrolling),this.wrap.addEventListener("touchend",this.onScrollEnd)}});
